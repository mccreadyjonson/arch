#!/bin/bash


#check for internet connection
[ "$(ping -c 1 9.9.9.9)" ] && echo "Success!" || echo "Please check your internet connection"


#rename git repo directory
mv "$HOME"/arch "$HOME"/archconfig


#add necessary directories
mkdir "$HOME"/downloadmusic "$HOME"/linuxbook "$HOME"/memes "$HOME"/memes/website "$HOME"/music "$HOME"/storagedrive "$HOME"/scripts "$HOME"/walls "$HOME"/archwikidocs "$HOME"/gitwebsite "$HOME"/.newsboat "$HOME"/alacritty "$HOME"/dunst "$HOME"/i3 "$HOME"/mpd "$HOME"/ncmpcpp "$HOME"/nvim "$HOME"/picom "$HOME"/polybar "$HOME"/ranger "$HOME"/sxhkd "$HOME"/youtube-dl


#check if packages are installed, install them if not
installpackages() {
while IFS= read -r line; do
    [ "$(pacman -Qqe | grep "$line")" ] && echo "$line already installed" || sudo pacman --noconfirm --needed -S "$line"
done < "$1"
}


#copy the config files from the git directory to their proper locations
placeconfigs() {
while IFS=, read -r file location; do
    #works âœ…
    cp -r "$HOME"/archconfig/"$file" "$HOME"/"$location"
done < "$1"
}


#this command will generate skeleton config for ranger
ranger --copy-config=all


installpackages packages.txt
placeconfigs configlocations.csv
